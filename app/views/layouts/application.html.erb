<!DOCTYPE html>
<html>
  <head>
    <title>Campusevents</title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
  
  
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
	  <a class="navbar-brand" href="#">Navbar</a>
	  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	  </button>
	  <div class="collapse navbar-collapse" id="navbarNav">
		<ul class="navbar-nav">
		<li class="nav-item active">
			<a class="nav-link" href="#">Home </a>
		  </li>
		  <li class="nav-item">
			<%= link_to("Events", events_path, :class => "nav-link") %>
		  </li>
		  <li class="nav-item">
			<%= link_to("Attendees", attendees_path, :class => "nav-link") %>
		  </li>
		  <li class="nav-item">
			<%= link_to("Meetings", meetings_path, :class => "nav-link") %>
		  </li>
		  <li class="nav-item">
			<%= link_to("Locations", locations_path, :class => "nav-link") %>
		  </li>
		  <li class="nav-item">
			<%= link_to("Sponsors", sponsors_path, :class => "nav-link") %>
		  </li>
		</ul>
	  </div>
	</nav>
	
	<script>
	console.log("Loading");
		$(document).ready(function() {
			var navsObj = $('.nav li');
			var navs = $.map(navsObj, function(value, index) {
				return value;
			});
			console.log(navs);
			var hrefs = [];
			navs.forEach(function(nav, index) {
				var kid = $(nav).children().filter('a');
				$(nav).removeClass('active');
				console.log(window.location.href);
				console.log(kid.attr('href'));
				if(window.location.href.includes(kid.attr('href'))) {
					$(nav).addClass('active');
				}
			});
		});
	</script>
    <%= yield %>
  </body>
</html>
